apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
bases:
  - ../../admin/flux/0.14.1
  - ../../admin/fluxcloud
  - ../../admin/kube-slack
  - ../../admin/keyvault-flexvol
  - ../../admin/traefik
  - ../../kured
  - ../../neuvector
  - ../../admin/flux-web

patchesStrategicMerge:
  #flux patches
  - ../../admin/flux/patches/prod/flux.yaml
  - ../../admin/flux/patches/prod/cluster-01/flux.yaml

  #fluxcloud patch
  - ../../admin/fluxcloud/patches/prod/cluster-01/fluxcloud.yaml

  #kube-slack patch
  - ../../admin/kube-slack/patches/prod/cluster-01/kube-slack.yaml

  #traefik patch
  - ../../admin/traefik/patches/prod/cluster-01/traefik.yaml

  #kured patch
  - ../../kured/patches/prod/cluster-01/kured.yaml

  #neuvector patch
  - ../../neuvector/patches/prod/neuvector.yaml
  - ../../neuvector/patches/prod/cluster-01/neuvector.yaml

  #flux-web patch
  - ../../admin/flux-web/patches/prod/cluster-01/flux-web.yaml