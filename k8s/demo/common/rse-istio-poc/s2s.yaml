---
apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: cmc-s2s
  namespace: poc
  annotations:
    flux.weave.works/automated: "true"
    flux.weave.works/tag.java: glob:prod-*
spec:
  releaseName: cmc-s2s
  rollback:
    enable: true
  chart:
    git: git@github.com:hmcts/hmcts-charts
    ref: master
    path: stable/rpe-service-auth-provider
  values:
    java:
      ingressHost: ""
      image: hmctspublic.azurecr.io/rpe/service-auth-provider:prod-c09791bc
      secrets:
        MICROSERVICEKEYS_CMC:
          secretRef: cmc-s2s-secret
          key: key
        MICROSERVICEKEYS_CMC_CLAIM_STORE:
          secretRef: claim-store-s2s-secret
          key: key
      environment:
        TESTING_SUPPORT_ENABLED: "true"
        MICROSERVICEKEYS_CMC_CLAIM_SUBMIT_API: AAAAAAAAAAAAAAAA
        MICROSERVICEKEYS_CMC_LEGAL_FRONTEND: AAAAAAAAAAAAAAAA
        MICROSERVICEKEYS_EM_GW: AAAAAAAAAAAAAAAA
        MICROSERVICEKEYS_CCD_DATA: AAAAAAAAAAAAAAAA
        MICROSERVICEKEYS_CCD_DEFINITION: AAAAAAAAAAAAAAAA
        MICROSERVICEKEYS_CCD_GATEWAY: AAAAAAAAAAAAAAAA
        MICROSERVICEKEYS_CCD_GW: AAAAAAAAAAAAAAAA
        MICROSERVICEKEYS_CCD_ADMIN: AAAAAAAAAAAAAAAA
        MICROSERVICEKEYS_DG_DOCASSEMBLY_API: AAAAAAAAAAAAAAAA
