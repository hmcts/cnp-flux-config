---
apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: sscs-tribunals-api
  namespace: sscs
  annotations:
    flux.weave.works/automated: "true"
    flux.weave.works/tag.java: glob:pr-1239-*
spec:
  releaseName: sscs-tribunals-api
  rollback:
    enable: true
    retry: true
  chart:
    git: git@github.com:hmcts/hmcts-charts
    ref: master
    path: stable/sscs-tribunals-api
  values:
    java:
      replicas: 2
      useInterpodAntiAffinity: true
      image: hmctspublic.azurecr.io/sscs/tribunals-api:pr-1239-18c2d5e6
      aadIdentityName: sscs
      environment:
        READY_TO_LIST_OFFICES: DWP PIP (1),DWP PIP (2),DWP PIP (3),DWP PIP (4),DWP
          PIP (5),DWP PIP (6),DWP PIP (7),DWP PIP (8),DWP PIP (9),DWP PIP (AE),Balham
          DRT,Birkenhead LM DRT,Chesterfield DRT,Coatbridge Benefit Centre,Inverness
          DRT,Lowestoft DRT,Milton Keynes DRT,Norwich DRT,Sheffield DRT,Springburn
          DRT,Watford DRT,Wellingborough DRT,Worthing DRT
        BUNDLE_URL: http://em-ccdorc-demo.service.core-compute-demo.internal
        TEST_REMOVE_ME: true
    global:
      environment: demo
      tenantId: "531ff96d-0ae9-462a-8d2d-bec7c0b42082"
      enableKeyVaults: true
