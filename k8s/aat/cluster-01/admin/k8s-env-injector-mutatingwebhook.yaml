apiVersion: admissionregistration.k8s.io/v1beta1
kind: MutatingWebhookConfiguration
metadata:
  name: env-injector-webhook-cfg
  namespace: admin
  labels:
    app: env-injector
webhooks:
  - name: env-injector.hmcts.net
    clientConfig:
      service:
        name: env-injector-webhook-svc
        namespace: admin
        path: "/mutate"
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUV4ekNDQXErZ0F3SUJBZ0lRRVpwUUZUdXYvVGhZWWtMVVR4QmdYekFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWVGdzB5TURBeE1EY3lNVEEyTWpOYUZ3MDBPVEV5TXpBeU1URTJNak5hTUEweApDekFKQmdOVkJBTVRBbU5oTUlJQ0lqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FnOEFNSUlDQ2dLQ0FnRUFtdkh5Cld2ZTRoWjJDZDhlb3RCRzRLMWIyNmhUQzVCTmdYVEJWdWViVkJ2WUZsdWxjK2cySDlyVmljK3ZvNUcxWG9GTXgKUFRoRjJSd29GVU9ET3V3TDJDMndsajhLdjJtZlZNYWlpYkNGa1EvNTAyMXpqUzFwUFdDaFNvUWs1MEZ4QWVLVwo5YlpHQTVRR2RMdEk4MnR5eTllV2JRajBaS3lDMWsyeWJ5a2J4dWh3MVlsT1JCTldWbnpsZWRwNCtsRmp5QTJJCkZrUHRSbXBGWUZGWWNUa2pXbHQwQmJiOFhlZFZzcFpuMVMvTDFNcm5zR1J1eXlmVUk5UVlSQVJleWFFam9lUk4KZWVqSFJMVHBlT3duci9zMG9XeUhRTUwwaThCbVlJMEwwNGZjdDZVS1hvQzA4N0dxbUxTS2pVRDZHQUhCWi9IeApiQTJsaW8rMWw4WjNsTGJ4dWZ0UlV4bEhCeGI4NU92dHFETGRuRmcwRCtqbXdBaEFYbWZ5NHk3QXR0MmZadkVRCmIyQkJkbTY0SW90czhGcHArQi9obmtpTzZFR2twOE9YZmFZajQzYWpnMmlGakJ6Y1ZOQmx6MXdSaWdiVm5SQi8Kdy9YbzZUb0MyY2s3czdORTJxK0VLSEtWZVZ2ZW5wenJkUHdOSE50TEw2dTF6dFF5bWhwNHRMWWo3bmxvcmN1TwpaYnpNek1Qa0pxNmk0L1YraTVLbi9FM0tFL3JmMzNXMlFxWEZMekZTMlVkc3BvK2F3dnh6WkJQT1lVblQvY1hrCmRXUDlvQ3gxRWx1NVJtaU5aTEwvMFJYQUlVK3BvNHpOc1F5UFZqMm8yMkNiS2xVT0s2aEpGM1dtcDR3ZjZ6cmYKRzZCbC8xRy9CVTZCc3Zxazh1YlBWczdTMHYzclphVnd1bEQySVZFQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFILwpCQVFEQWdLa01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFDZGZieFZTClZvWXZKck93bjFDTnl2L05kOGJOOHNiWi9uSXFKalhOek9NVDRraFdFQ2k3RVd1VnVXVE4vNDE3OGhCRmNnQUYKVWtnK0U4TEE1LzNtaS91Tmkvd2lsQkVhVk5KcERvcGtrcUhFRVhGSk0yRXJMaHhhQklBazUxVTBhdzNCZEtyUApzTHhDeVo4Q1hxU3lOMlBWM1pIQUJPVGdBK0RXRkd2aExDWVIxeWNPWWxEL3JiR055ckFkYTFuSmVJcWcwMHc5CitySUFOVm5RdVpSQ3hxNzJxSlhiditMbStvTXlScUlucnRxOW0rNW9pUWtEN2ZLQmM5SDBteHdwcHY4QWlyREYKeHFzRkRHUVdHUno4YVFUYTFuVlJGTEp0clFOWjhFd0lZZUllbUxDNi9yeURDay9obG95Q0w5YU96YjJWN3A3LwpXM1I5MVVsZ08wZFZPZEkrTklzcUwrUlpKMExPbW45OUxzcUFsRlNrMldlTGFybVBJRnUrd29Vc3JMYXVXZEVkClNHbTAzOWpDWjNQNWZlRmhWT3ZLMVl1bXMrd3ZSdG4zeVp4Ly9Cb1ZaaGpkVkdxak8zczM3Z0pWOGJOb2VtQloKL2pZMVd5TlFKY0FDaUZVTmZXTzRCVGY3ZjEvNnYrRkFFOFhML1dUN2g5TGJ6TXJRMXhzZjhKRlk3d1pPSWVqTwpRUEtjUzlOc09jeEFsMzVGeUtJS0JrZUdqNjZIWXY4bnJ5M2NnUXlHckdiajFYWGJ2VGYzZVZVY3MzUDRGMEdICkdBUFAyNlhXcUlXV0V5V2dZTVU1VVM0OHp4aXNyUE5JK2NUQW00NWgrelpzSC9EbFNBZ2hDQkM2dnRxOThscGoKZm1LWVlIa2dNVHd2UmJNc1RjMkYrTXNieFVlVlowM21STmQ2Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    rules:
      - operations: [ "CREATE" ]
        apiGroups: [""]
        apiVersions: ["v1"]
        resources: ["pods"]
    namespaceSelector:
      matchLabels:
        hmcts.github.com/envInjector: enabled
