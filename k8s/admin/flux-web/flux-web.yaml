---
apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: flux-web
  namespace: admin
  annotations:
    flux.weave.works/automated: "false"
spec:
  releaseName: flux-web
  chart:
    git: https://github.com/flux-web/flux-web
    ref: master
    path: chart/flux-web
  values:
    namespace: admin
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 500m
        memory: 512Mi
    frontend:
      env:
        READ_ONLY: true
    backend:
      env:
        READ_ONLY: true
    ingress:
      annotations:
        kubernetes.io/ingress.class: traefik