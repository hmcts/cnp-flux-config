apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
bases:
  - ../../namespaces/admin/flux
  - ../../namespaces/admin/kube-slack
  - ../../namespaces/admin/keyvault-flexvol
  - ../../namespaces/admin/traefik
  - ../../namespaces/kured
  - ../../namespaces/monitoring
  - ../../namespaces/admin/env-injector
  - ../../namespaces/knode-system

patchesStrategicMerge:
  #flux patches
  - ../../namespaces/admin/flux/patches/dev/flux.yaml
  - ../../namespaces/admin/flux/patches/dev/cluster-01/flux.yaml
  
  #kube-slack patch
  - ../../namespaces/admin/kube-slack/patches/dev/cluster-01/kube-slack.yaml
  
  #traefik patch
  - ../../namespaces/admin/traefik/patches/dev/cluster-01/traefik.yaml
  
  #kured patch
  - ../../namespaces/kured/patches/dev/cluster-01/kured.yaml

  #prom-operator patch
  - ../../namespaces/monitoring/patches/dev/cluster-01/prom-operator.yaml

  - ../../namespaces/admin/env-injector/patches/dev/cluster-01/env-injector.yaml
