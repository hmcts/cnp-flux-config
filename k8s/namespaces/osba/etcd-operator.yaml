apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: etcd-operator
  namespace: osba
  annotations:
    flux.weave.works/automated: "false"
spec:
  releaseName: etcd-operator
  rollback:
    enable: true
    retry: true
  chart:
    repository: https://kubernetes-charts.storage.googleapis.com/
    name: etcd-operator
    version: 0.10.2
  values:
    deployments:
      backupOperator: false
      restoreOperator: false
    customResources:
      createEtcdClusterCRD: true
    etcdOperator:
      #emptying as full name is appending same thing a lot of times.
      name: ""
      image:
        tag: v0.9.4
    etcdCluster:
      version: 3.3.18
      image:
        tag: v3.3.18
      pod:
        resources:
          limits:
            cpu: 1000m
            memory: 2500Mi
          requests:
            cpu: 100m
            memory: 200Mi
