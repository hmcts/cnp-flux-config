apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
  name: wa-case-event-handler
spec:
  values:
    java:
      environment:
        AZURE_SERVICE_BUS_FEATURE_TOGGLE: true
        AZURE_SERVICE_BUS_DLQ_FEATURE_TOGGLE: true
        LOGGING_LEVEL_UK_GOV_HMCTS: DEBUG
        RESILIENCE_RETRY_MAX_ATTEMPTS: 10
        RESILIENCE_RETRY_BACK_OFF_DELAY: 30000
        RESILIENCE_RETRY_BACK_OFF_MAX_DELAY: 60000
        RESILIENCE_RETRY_BACK_OFF_RANDOM: true
        CLEAN_UP_MESSAGE_LIMIT: 100
        CLEAN_UP_STARTED_DAYS_BEFORE: 90
        CLEAN_UP_STATE_FOR_PROD: PROCESSED
        CLEAN_UP_STATE_FOR_NON_PROD: PROCESSED
        RESTART: false
        PROBLEM_MESSAGE_RESET_ID_LIST:
        PROBLEM_MESSAGE_RESET_NULL_EVENT_TIMESTAMP_ID_LIST:
        PROBLEM_MESSAGE_SET_STATE_TO_PROCESSED_ID_LIST: ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-5777,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-6646,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-312,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-1669,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-2752,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-7653,ID:e4c2468d-8a48-4f81-be59-a2bcc53f11c1:661:1:1-220,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-6305,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-4972,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-6087,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-11310,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-4697,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-5818,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-2777,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-5479,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-8270,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-2132,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-436,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-9825,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-7722,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-11742,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-9530,ID:289cfe73-631d-4e95-8e58-e52b39396f6d:773:1:1-402,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-5268,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-5996,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-1432,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-1727,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-3496,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-9783,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-6693,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-8482,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-6291,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-5561,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-11416,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-2665,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-9990,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-4470,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-2690,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-8019,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-3203,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-4861,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-873,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-1696,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-8518,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-4201,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-3188,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-5936,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-3659,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-5994,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-5097,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-4388,ID:e4c2468d-8a48-4f81-be59-a2bcc53f11c1:661:1:1-183,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-10165,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-2692,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-3247,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-2646,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-6840,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-2328,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-2933,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-5859,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-4009,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-807,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-6894,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-10198,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-2404,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-755,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-3408,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-6350,ID:e4c2468d-8a48-4f81-be59-a2bcc53f11c1:661:1:1-948,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-1870,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-6731,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-3131,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-293,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-5722,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-1197,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-6141,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-4741,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-6117,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-2509,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-5043,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-3050,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-6942,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-8342,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-5386,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-7720,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-2081,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-4942,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-2623,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-4545,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-2537,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-8517,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-2979,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-6569,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-4590,ID:e4c2468d-8a48-4f81-be59-a2bcc53f11c1:661:1:1-234,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-4180,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-6759,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-6371,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-2274,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-2593,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-3793,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-8297,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-3447,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-2868,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-6379,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-146,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-1262,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-6479,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-2484,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-8609,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-9951,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-3347,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-2111,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-68,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-8438,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-10516,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-4213,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-4433,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-4492,ID:703868d3-2ceb-41a0-8b90-b079ecf71926:592:1:1-3030,ID:e36e3b3a-19bb-4aec-a4c0-72bd88bf7042:943:1:1-5700,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-3587,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-4295,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-3407,ID:95877f25-b1d9-4445-8881-e76a2bcb6059:606:1:1-5482,ID:5cae76b7-625d-4624-abc1-46c2bd2ce504:707:1:1-3270
      keyVaults:
        wa:
          secrets:
            - name: app-insights-connection-string
              alias: app-insights-connection-string
            - name: s2s-secret-case-event-handler
              alias: S2S_SECRET_CASE_EVENT_HANDLER
            - name: ccd-shared-servicebus-connection-string
              alias: AZURE_SERVICE_BUS_CONNECTION_STRING
            - name: ld-secret
              alias: LAUNCH_DARKLY_SDK_KEY
            - name: wa-case-event-handler-POSTGRES-USER-V15
              alias: POSTGRES_USERNAME
            - name: wa-case-event-handler-POSTGRES-PASS-V15
              alias: POSTGRES_PASSWORD
            - name: wa-case-event-handler-POSTGRES-HOST-V15
              alias: POSTGRES_HOST
            - name: wa-case-event-handler-POSTGRES-PORT-V15
              alias: POSTGRES_PORT
            - name: wa-case-event-handler-POSTGRES-DATABASE-V15
              alias: POSTGRES_NAME
            - name: wa-idam-client-secret
              alias: WA_IDAM_CLIENT_SECRET
