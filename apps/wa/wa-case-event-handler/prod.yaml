apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: wa-case-event-handler
spec:
  values:
    java:
      environment:
        AZURE_SERVICE_BUS_FEATURE_TOGGLE: true
        AZURE_SERVICE_BUS_DLQ_FEATURE_TOGGLE: true
        LOGGING_LEVEL_UK_GOV_HMCTS: DEBUG
        RESILIENCE_RETRY_MAX_ATTEMPTS: 10
        RESILIENCE_RETRY_BACK_OFF_DELAY: 30000
        RESILIENCE_RETRY_BACK_OFF_MAX_DELAY: 60000
        RESILIENCE_RETRY_BACK_OFF_RANDOM: true
        CLEAN_UP_MESSAGE_LIMIT: 100
        CLEAN_UP_STARTED_DAYS_BEFORE: 90
        CLEAN_UP_STATE_FOR_PROD: PROCESSED
        CLEAN_UP_STATE_FOR_NON_PROD: PROCESSED
        RESTART: false
        PROBLEM_MESSAGE_RESET_ID_LIST: ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-175,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-174,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-173,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-172,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-170,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-168,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-167,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-166,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-165,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-164,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-163,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-162,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-161,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-159,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-158,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-157,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-155,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-154,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-152,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-151,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-150,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-148,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-146,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-144,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-143,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-142,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-139,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-138,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-136,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-135,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-134,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-130,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-129,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-127,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-126,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-125,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-124,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-123,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-122,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-121,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-118,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-117,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-116,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-115,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-113,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-112,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-111,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-110,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-109,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-107,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-101,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-100,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-98,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-95,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-94,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-93,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-90,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-89,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-88,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-87,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-86,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-85,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-84,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-83,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-82,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-81,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-80,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-79,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-76,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-75,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-72,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-71,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-70,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-69,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-68,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-67,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-66,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-65,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-64,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-63,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-62,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-61,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-60,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-59,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-58,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-57,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-56,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-55,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-53,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-52,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-51,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-50,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-49,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-48,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-47,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-46,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-43,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-42,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-40,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-39,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-38,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-37,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-36,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-35,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-34,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-33,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-32,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-31,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-29,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-28,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-26,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-25,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-24,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-23,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-22,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-21,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-20,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-15,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-14,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-13,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-12,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-11,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-9,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-8,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-7,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-6,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-5,ID:09ece972-6ed4-4aec-88af-a74229ff53e6:124:1:1-1,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-112,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-111,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-110,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-109,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-108,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-106,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-105,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-104,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-103,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-102,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-101,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-100,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-99,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-98,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-97,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-95,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-94,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-91,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-87,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-86,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-85,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-84,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-83,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-82,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-81,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-80,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-79,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-78,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-77,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-76,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-75,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-74,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-73,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-72,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-69,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-67,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-66,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-65,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-63,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-62,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-61,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-60,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-58,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-57,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-56,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-51,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-48,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-47,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-46,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-45,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-44,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-43,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-42,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-41,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-40,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-39,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-38,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-37,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-36,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-32,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-31,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-28,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-26,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-25,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-24,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-23,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-21,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-16,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-15,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-14,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-13,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-11
        PROBLEM_MESSAGE_RESET_NULL_EVENT_TIMESTAMP_ID_LIST:
        PROBLEM_MESSAGE_SET_STATE_TO_PROCESSED_ID_LIST:
      keyVaults:
        wa:
          secrets:
            - name: app-insights-connection-string
              alias: app-insights-connection-string
            - name: s2s-secret-case-event-handler
              alias: S2S_SECRET_CASE_EVENT_HANDLER
            - name: ccd-shared-servicebus-connection-string
              alias: AZURE_SERVICE_BUS_CONNECTION_STRING
            - name: ld-secret
              alias: LAUNCH_DARKLY_SDK_KEY
            - name: wa-case-event-handler-POSTGRES-USER-V15
              alias: POSTGRES_USERNAME
            - name: wa-case-event-handler-POSTGRES-PASS-V15
              alias: POSTGRES_PASSWORD
            - name: wa-case-event-handler-POSTGRES-HOST-V15
              alias: POSTGRES_HOST
            - name: wa-case-event-handler-POSTGRES-PORT-V15
              alias: POSTGRES_PORT
            - name: wa-case-event-handler-POSTGRES-DATABASE-V15
              alias: POSTGRES_NAME
            - name: wa-idam-client-secret
              alias: WA_IDAM_CLIENT_SECRET
