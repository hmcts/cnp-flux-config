apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: wa-case-event-handler
spec:
  values:
    java:
      environment:
        AZURE_SERVICE_BUS_FEATURE_TOGGLE: true
        AZURE_SERVICE_BUS_DLQ_FEATURE_TOGGLE: true
        LOGGING_LEVEL_UK_GOV_HMCTS: DEBUG
        RESILIENCE_RETRY_MAX_ATTEMPTS: 10
        RESILIENCE_RETRY_BACK_OFF_DELAY: 30000
        RESILIENCE_RETRY_BACK_OFF_MAX_DELAY: 60000
        RESILIENCE_RETRY_BACK_OFF_RANDOM: true
        CLEAN_UP_MESSAGE_LIMIT: 100
        CLEAN_UP_STARTED_DAYS_BEFORE: 90
        CLEAN_UP_STATE_FOR_PROD: PROCESSED
        CLEAN_UP_STATE_FOR_NON_PROD: PROCESSED
        RESTART: false
        PROBLEM_MESSAGE_RESET_ID_LIST: ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-33,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-38,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-31,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-32,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-29,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-28,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-30,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-25,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-26,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-23,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-27,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-24,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-20,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-21,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-19,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-18,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-22,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-17,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-15,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-16,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-14,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-13,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-11,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-12,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-10,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-8,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-7,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-6,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-1,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1316,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1315,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1314,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1313,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1312,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1311,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1310,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1308,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1305,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1304,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1303,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1302,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1301,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1300,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1299,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1297,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1296,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1295,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1293,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1292,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1291,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1290,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1289,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1288,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1286,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1285,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1284,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1283,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1282,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1281,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1279,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1278,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1277,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1276,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1275,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1274,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1270,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1267,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1266,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1265,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1263,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1260,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1257,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1256,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1255,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1254,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1252,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1250,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1248,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1247,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1246,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1245,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1243,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1242,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1241,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1240,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1238,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1237,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1236,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1233,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1231,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1230,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1229,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1227,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1224,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1221,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1220,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1218,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1217,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1216,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1215,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1214,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1213,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1212,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1211,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1210,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1207,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1206,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1205,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1202,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1201,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1200,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1199,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1197,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1196,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1195,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1194,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1192,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1191,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1190,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1189,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1188,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1185,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1184,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1183,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1182,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1181,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1180,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1179,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1178,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1174,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1165,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1164,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1162,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1161,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1160,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1159,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1158,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1157,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1156,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1155,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1154,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1151,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1146,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1144,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1143,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1141,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1138,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1137,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1136,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1135,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1134,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1133,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1129,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1128,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1127,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1126,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1125,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1124,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1123,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1119,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1117,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1116,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1115,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1113,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1112,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1110,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1109,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1108,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1107,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1106,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1105,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1104,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1103,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1102,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1101,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1100,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1098,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1096,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1093,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1091,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1090,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1088,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1086,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1085,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1083,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1084,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1082,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1081,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1075,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1074,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1073,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1072,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1071,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1070,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1068,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1066,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1063,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1061,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1060,ID:c092f375-a916-4a6a-bef4-137a5bcf6d26:56:1:1-1059
        PROBLEM_MESSAGE_RESET_NULL_EVENT_TIMESTAMP_ID_LIST:
        PROBLEM_MESSAGE_SET_STATE_TO_PROCESSED_ID_LIST:
      keyVaults:
        wa:
          secrets:
            - name: app-insights-connection-string
              alias: app-insights-connection-string
            - name: s2s-secret-case-event-handler
              alias: S2S_SECRET_CASE_EVENT_HANDLER
            - name: ccd-shared-servicebus-connection-string
              alias: AZURE_SERVICE_BUS_CONNECTION_STRING
            - name: ld-secret
              alias: LAUNCH_DARKLY_SDK_KEY
            - name: wa-case-event-handler-POSTGRES-USER-V15
              alias: POSTGRES_USERNAME
            - name: wa-case-event-handler-POSTGRES-PASS-V15
              alias: POSTGRES_PASSWORD
            - name: wa-case-event-handler-POSTGRES-HOST-V15
              alias: POSTGRES_HOST
            - name: wa-case-event-handler-POSTGRES-PORT-V15
              alias: POSTGRES_PORT
            - name: wa-case-event-handler-POSTGRES-DATABASE-V15
              alias: POSTGRES_NAME
            - name: wa-idam-client-secret
              alias: WA_IDAM_CLIENT_SECRET
