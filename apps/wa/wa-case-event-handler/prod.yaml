apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: wa-case-event-handler
spec:
  values:
    java:
      environment:
        AZURE_SERVICE_BUS_FEATURE_TOGGLE: true
        AZURE_SERVICE_BUS_DLQ_FEATURE_TOGGLE: true
        LOGGING_LEVEL_UK_GOV_HMCTS: DEBUG
        RESILIENCE_RETRY_MAX_ATTEMPTS: 10
        RESILIENCE_RETRY_BACK_OFF_DELAY: 30000
        RESILIENCE_RETRY_BACK_OFF_MAX_DELAY: 60000
        RESILIENCE_RETRY_BACK_OFF_RANDOM: true
        CLEAN_UP_MESSAGE_LIMIT: 100
        CLEAN_UP_STARTED_DAYS_BEFORE: 90
        CLEAN_UP_STATE_FOR_PROD: PROCESSED
        CLEAN_UP_STATE_FOR_NON_PROD: PROCESSED
        RESTART: false
        PROBLEM_MESSAGE_RESET_ID_LIST: ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-10,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-9,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-7,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-6,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-5,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-4,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-3,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-2,ID:ac818a06-3634-45b3-bb22-02df84437f7f:123:1:1-1,ID:10c61632-cb7f-439a-955f-9051992452cc:120:1:1-3,ID:10c61632-cb7f-439a-955f-9051992452cc:120:1:1-2,ID:0e237cd8-2011-40f1-a3a9-529af11c79fd:119:1:1-1,ID:fc74e1a8-a522-48fe-81e4-0323c0d57245:97:1:1-2,ID:fc74e1a8-a522-48fe-81e4-0323c0d57245:97:1:1-1,ID:ab3a8753-5167-476d-9143-de510ed737fc:95:1:1-2,ID:ab3a8753-5167-476d-9143-de510ed737fc:95:1:1-1,ID:7f811fa1-d9d6-4286-9e44-b85c590a7ef2:87:1:1-1,ID:a662ffbb-b679-4372-a632-1c82c21c9c1f:83:1:1-1,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-100,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-99,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-98,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-97,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-96,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-91,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-90,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-89,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-88,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-87,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-86,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-85,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-84,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-83,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-82,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-81,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-80,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-79,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-78,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-77,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-76,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-75,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-74,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-73,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-72,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-71,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-70,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-69,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-68,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-67,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-66,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-65,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-64,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-63,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-62,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-61,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-60,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-59,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-58,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-57,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-56,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-55,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-54,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-53,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-52,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-51,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-50,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-49,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-48,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-47,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-46,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-45,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-44,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-43,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-42,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-41,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-40,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-39,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-38,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-37,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-36,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-35,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-34,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-33,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-32,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-31,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-30,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-29,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-28,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-27,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-26,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-25,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-24,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-23,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-22,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-21,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-20,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-19,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-18,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-17,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-16,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-15,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-14,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-13,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-12,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-11,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-10,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-9,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-8,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-7,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-6,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-3,ID:ad5b7f50-7677-4fa8-b2b9-0db6fd3aa773:71:1:1-2,ID:558bf65e-e169-42d2-8384-2a8adfaf3b28:67:1:1-1,ID:6630e26d-2c8d-4e22-98bb-0212d89ec699:66:1:1-3,ID:6630e26d-2c8d-4e22-98bb-0212d89ec699:66:1:1-2,ID:6630e26d-2c8d-4e22-98bb-0212d89ec699:66:1:1-1,ID:590d3132-1b6c-47ec-ad57-feb1308d8018:60:1:1-16,ID:590d3132-1b6c-47ec-ad57-feb1308d8018:60:1:1-14,ID:590d3132-1b6c-47ec-ad57-feb1308d8018:60:1:1-13,ID:590d3132-1b6c-47ec-ad57-feb1308d8018:60:1:1-12,ID:590d3132-1b6c-47ec-ad57-feb1308d8018:60:1:1-10,ID:590d3132-1b6c-47ec-ad57-feb1308d8018:60:1:1-9,ID:590d3132-1b6c-47ec-ad57-feb1308d8018:60:1:1-8,ID:590d3132-1b6c-47ec-ad57-feb1308d8018:60:1:1-5,ID:590d3132-1b6c-47ec-ad57-feb1308d8018:60:1:1-4,ID:590d3132-1b6c-47ec-ad57-feb1308d8018:60:1:1-3,ID:590d3132-1b6c-47ec-ad57-feb1308d8018:60:1:1-2,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-110,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-109,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-107,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-106,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-105,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-104,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-103,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-102,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-101,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-100,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-99,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-98,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-97,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-96,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-95,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-94,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-93,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-92,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-91,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-90,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-89,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-88,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-87,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-86,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-85,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-84,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-83,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-81,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-80,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-79,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-78,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-77,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-76,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-75,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-74,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-73,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-72,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-71,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-70,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-69,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-68,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-67,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-66,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-65,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-62,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-63,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-61,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-64,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-60,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-57,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-56,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-55,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-54,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-53,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-59,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-58,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-51,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-52,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-50,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-49,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-48,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-46,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-45,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-43,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-47,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-44,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-41,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-39,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-42,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-40,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-36,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-37,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-34,ID:d5c06ebb-be7f-48c0-a4f0-45e2cf10ee02:57:1:1-35
        PROBLEM_MESSAGE_RESET_NULL_EVENT_TIMESTAMP_ID_LIST:
        PROBLEM_MESSAGE_SET_STATE_TO_PROCESSED_ID_LIST:
      keyVaults:
        wa:
          secrets:
            - name: app-insights-connection-string
              alias: app-insights-connection-string
            - name: s2s-secret-case-event-handler
              alias: S2S_SECRET_CASE_EVENT_HANDLER
            - name: ccd-shared-servicebus-connection-string
              alias: AZURE_SERVICE_BUS_CONNECTION_STRING
            - name: ld-secret
              alias: LAUNCH_DARKLY_SDK_KEY
            - name: wa-case-event-handler-POSTGRES-USER-V15
              alias: POSTGRES_USERNAME
            - name: wa-case-event-handler-POSTGRES-PASS-V15
              alias: POSTGRES_PASSWORD
            - name: wa-case-event-handler-POSTGRES-HOST-V15
              alias: POSTGRES_HOST
            - name: wa-case-event-handler-POSTGRES-PORT-V15
              alias: POSTGRES_PORT
            - name: wa-case-event-handler-POSTGRES-DATABASE-V15
              alias: POSTGRES_NAME
            - name: wa-idam-client-secret
              alias: WA_IDAM_CLIENT_SECRET
