apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: wa-case-event-handler
spec:
  values:
    java:
      environment:
        AZURE_SERVICE_BUS_FEATURE_TOGGLE: true
        AZURE_SERVICE_BUS_DLQ_FEATURE_TOGGLE: true
        LOGGING_LEVEL_UK_GOV_HMCTS: DEBUG
        RESILIENCE_RETRY_MAX_ATTEMPTS: 10
        RESILIENCE_RETRY_BACK_OFF_DELAY: 30000
        RESILIENCE_RETRY_BACK_OFF_MAX_DELAY: 60000
        RESILIENCE_RETRY_BACK_OFF_RANDOM: true
        CLEAN_UP_MESSAGE_LIMIT: 100
        CLEAN_UP_STARTED_DAYS_BEFORE: 90
        CLEAN_UP_STATE_FOR_PROD: PROCESSED
        CLEAN_UP_STATE_FOR_NON_PROD: PROCESSED
        RESTART: false
        PROBLEM_MESSAGE_RESET_ID_LIST: ID:05c2448f-cf37-4c2e-80ef-9c5fd3034acf:168:1:1-11,ID:05c2448f-cf37-4c2e-80ef-9c5fd3034acf:168:1:1-10,ID:05c2448f-cf37-4c2e-80ef-9c5fd3034acf:168:1:1-9,ID:05c2448f-cf37-4c2e-80ef-9c5fd3034acf:168:1:1-8,ID:05c2448f-cf37-4c2e-80ef-9c5fd3034acf:168:1:1-7,ID:05c2448f-cf37-4c2e-80ef-9c5fd3034acf:168:1:1-5,ID:05c2448f-cf37-4c2e-80ef-9c5fd3034acf:168:1:1-4,ID:05c2448f-cf37-4c2e-80ef-9c5fd3034acf:168:1:1-3,ID:05c2448f-cf37-4c2e-80ef-9c5fd3034acf:168:1:1-2,ID:05c2448f-cf37-4c2e-80ef-9c5fd3034acf:168:1:1-1,ID:80ef0a87-b65e-4762-a7ea-a7c5fbe33a5d:167:1:1-3,ID:80ef0a87-b65e-4762-a7ea-a7c5fbe33a5d:167:1:1-2,ID:80ef0a87-b65e-4762-a7ea-a7c5fbe33a5d:167:1:1-1,ID:7a518ce6-9dad-4401-bcce-21fcda6351a2:166:1:1-2,ID:7a518ce6-9dad-4401-bcce-21fcda6351a2:166:1:1-1,ID:abadc14a-3fc0-4fff-9f8c-72f2bcd57e87:158:1:1-2,ID:abadc14a-3fc0-4fff-9f8c-72f2bcd57e87:158:1:1-1,ID:53397aee-74b4-4c97-bade-8123b635c429:157:1:1-3,ID:53397aee-74b4-4c97-bade-8123b635c429:157:1:1-2,ID:53397aee-74b4-4c97-bade-8123b635c429:157:1:1-1,ID:99cd770d-972a-4ed2-99e5-5b230d046f8e:150:1:1-5,ID:99cd770d-972a-4ed2-99e5-5b230d046f8e:150:1:1-4,ID:99cd770d-972a-4ed2-99e5-5b230d046f8e:150:1:1-3,ID:99cd770d-972a-4ed2-99e5-5b230d046f8e:150:1:1-2,ID:99cd770d-972a-4ed2-99e5-5b230d046f8e:150:1:1-1,ID:eab73927-6c31-4c45-8df9-8a209d1701c5:137:1:1-1,ID:40b44ce3-1da2-4f03-8c8f-0b48c9aa674f:134:1:1-1,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-38,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-37,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-36,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-35,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-34,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-33,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-32,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-31,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-30,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-29,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-28,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-27,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-26,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-25,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-24,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-23,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-22,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-21,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-20,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-19,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-18,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-17,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-16,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-15,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-14,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-13,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-12,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-11,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-10,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-9,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-8,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-7,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-6,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-5,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-4,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-3,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-2,ID:b52ec809-7837-4b1b-9096-5e3d5cfc0889:133:1:1-1,ID:fa1f404e-7da4-4b59-b84b-e57c4fdd357c:127:1:1-4,ID:fa1f404e-7da4-4b59-b84b-e57c4fdd357c:127:1:1-3,ID:fa1f404e-7da4-4b59-b84b-e57c4fdd357c:127:1:1-2,ID:fa1f404e-7da4-4b59-b84b-e57c4fdd357c:127:1:1-1,ID:9c0489df-5ded-4e1b-a771-4bef54365134:126:1:1-11,ID:9c0489df-5ded-4e1b-a771-4bef54365134:126:1:1-10,ID:9c0489df-5ded-4e1b-a771-4bef54365134:126:1:1-9,ID:9c0489df-5ded-4e1b-a771-4bef54365134:126:1:1-5,ID:9c0489df-5ded-4e1b-a771-4bef54365134:126:1:1-3,ID:9c0489df-5ded-4e1b-a771-4bef54365134:126:1:1-2,ID:9c0489df-5ded-4e1b-a771-4bef54365134:126:1:1-1,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-97,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-95,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-93,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-92,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-89,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-88,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-87,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-86,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-85,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-84,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-83,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-82,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-81,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-80,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-79,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-78,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-77,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-76,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-75,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-73,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-72,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-68,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-66,ID:bb058cb2-92d1-414e-ada4-22aacdac47fb:125:1:1-65
        PROBLEM_MESSAGE_RESET_NULL_EVENT_TIMESTAMP_ID_LIST:
        PROBLEM_MESSAGE_SET_STATE_TO_PROCESSED_ID_LIST:
      keyVaults:
        wa:
          secrets:
            - name: app-insights-connection-string
              alias: app-insights-connection-string
            - name: s2s-secret-case-event-handler
              alias: S2S_SECRET_CASE_EVENT_HANDLER
            - name: ccd-shared-servicebus-connection-string
              alias: AZURE_SERVICE_BUS_CONNECTION_STRING
            - name: ld-secret
              alias: LAUNCH_DARKLY_SDK_KEY
            - name: wa-case-event-handler-POSTGRES-USER-V15
              alias: POSTGRES_USERNAME
            - name: wa-case-event-handler-POSTGRES-PASS-V15
              alias: POSTGRES_PASSWORD
            - name: wa-case-event-handler-POSTGRES-HOST-V15
              alias: POSTGRES_HOST
            - name: wa-case-event-handler-POSTGRES-PORT-V15
              alias: POSTGRES_PORT
            - name: wa-case-event-handler-POSTGRES-DATABASE-V15
              alias: POSTGRES_NAME
            - name: wa-idam-client-secret
              alias: WA_IDAM_CLIENT_SECRET
