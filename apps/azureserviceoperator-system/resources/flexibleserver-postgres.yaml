apiVersion: dbforpostgresql.azure.com/v1api20210601
kind: FlexibleServer
metadata:
  name: ${NAMESPACE}-${ENVIRONMENT}
  namespace: ${NAMESPACE}
  annotations:
    serviceoperator.azure.com/reconcile-policy: detach-on-delete
spec:
  tags:
    builtFrom: https://github.com/hmcts/cnp-flux-config
    businessArea: CFT
    environment: development
    autoShutdown: "true"
    application: ${APPLICATION_TAG}
  location: uksouth
  owner:
    name: ${NAMESPACE}-aso-${ENVIRONMENT}-rg
  sku:
    name: Standard_B1ms
    tier: Burstable
  administratorLogin: hmcts
  administratorLoginPassword:
    name: postgres
    key: PASSWORD
  storage:
    storageSizeGB: 32