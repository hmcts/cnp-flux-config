apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: fpl-case-service
spec:
  values:
    java:
      ingressHost: fpl-case-service-demo.service.core-compute-demo.internal
      image: hmctspublic.azurecr.io/fpl/case-service:pr-5490-8c35dd3-20240716130331 #{"$imagepolicy": "flux-system:demo-fpl-case-service"}
      environment:
        RELEASE: NOW
        GATEWAY_URL: https://gateway-ccd.demo.platform.hmcts.net
        AUTH_IDAM_CLIENT_BASEURL: https://idam-api.demo.platform.hmcts.net
        CASE_DOCUMENT_AM_URL: http://ccd-case-document-am-api-demo.service.core-compute-demo.internal
        RD_JUDICIAL_API_URL: http://rd-judicial-api-demo.service.core-compute-demo.internal
        RD_STAFF_API_URL: http://rd-caseworker-ref-api-demo.service.core-compute-demo.internal
        AM_ROLE_ASSIGNMENT_API_URL: http://am-role-assignment-service-demo.service.core-compute-demo.internal
        TESTING_SUPPORT_ENABLED: true
        RD_STAFF_API_ENABLED: true
        RD_JUDICIAL_API_ENABLED: false
        C2_WITH_NOTICE: GAOnNotice
        ESO_EXTENSION: EduSupervisionChange
        WARRANT_TO_ASSIST_PERSON_KEYWORD: WarrantEPO
        CHILD_ASSESSMENT_KEYWORD: ChildAssess
        CONTACT_WITH_CHILD_IN_CARE_KEYWORD: ContactChild
        CHANGE_SURNAME_KEYWORD: CareChildChange
        SPECIAL_GUARDIANSHIP_KEYWORD: SpecialGuardian
        APPOINTMENT_OF_GUARDIAN_KEYWORD: Guardians
        PARENTAL_RESPONSIBILITY_FATHER_KEYWORD: ParentalResponsibChg
        PARENTAL_RESPONSIBILITY_FEMALE_KEYWORD: ParentalResponsibility
        DECLARATION_OF_PARENTAGE: Private
        SCHEDULER_DB_USER: fpl_scheduler_user
        SCHEDULER_DB_HOST: fpl-case-service-postgresql-v15-flexible-server-{{ .Values.global.environment }}.postgres.database.azure.com
        SCHEDULER_DB_PORT: 5432
        SCHEDULER_ENABLED: true
        CHASE_CMO_EMAIL_CRON: 0 30 13 ? * * *
