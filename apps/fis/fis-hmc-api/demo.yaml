apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: fis-hmc-api
spec:
  values:
    java:
      keyVaults:
        fis-kv:
          secrets:
            - hmc-topic-shared-access-key
            - fis-hmc-api-s2s-secret
            - fis-hmc-idam-client-id
            - fis-hmc-idam-client-secret
            - fis-hmc-idam-user-name
            - prl-hearing-manager
            - idam-hmc-component-user-password
            - app-insights-connection-string
            - launchDarkly-sdk-key
      image: hmctspublic.azurecr.io/fis/hmc-api:pr-318-6b30240-20231220114315 #{"$imagepolicy": "flux-system:demo-fis-hmc-api"}
      environment:
        DUMMY_VAR_TO_REDEPLOY: 2
    global:
      environment: demo
      tenantId: "531ff96d-0ae9-462a-8d2d-bec7c0b42082"
      enableKeyVaults: true
