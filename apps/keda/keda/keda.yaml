---
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: keda
  namespace: keda
spec:
  releaseName: keda
  values:
    http:
      timeout: 50000
    image:
      pullPolicy: IfNotPresent
    securityContext:
      runAsNonRoot: true
      runAsUser: 1000
    resources:
      limits:
        cpu: 500m
        memory: 1024Mi
      requests:
        cpu: 250m
        memory: 256Mi
    serviceAccount:
      create: false
      name: keda
    podIdentity:
      azureWorkload:
        enabled: true
        tenantId: 531ff96d-0ae9-462a-8d2d-bec7c0b42082
  chart:
    spec:
      chart: keda
      version: 2.13.1
      sourceRef:
        kind: HelmRepository
        name: keda
        namespace: keda
