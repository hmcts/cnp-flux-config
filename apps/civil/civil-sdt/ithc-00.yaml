apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: civil-sdt
  namespace: civil
spec:
  values:
    java:
      environment:
        PURGE_SCHEDULE_CRON: 0 15 0 * * 4,5,6,7
      keyVaults:
        civil-sdt:
          secrets:
            - name: civil-sdt-service-s2s-secret
              alias: CIVIL_SDT_S2S_KEY
            - name: civil-sdt-system-user-username
              alias: IDAM_SDT_USERNAME
            - name: civil-sdt-system-user-password
              alias: IDAM_SDT_PASSWORD
            - name: civil-sdt-idam-client-secret
              alias: IDAM_SDT_CLIENT_SECRET
            - name: civil-sdt-appinsights-connection-string
              alias: APPINSIGHTS_CONNECTION_STRING
            - name: civil-sdt-POSTGRES-USER-V15
              alias: SDT_DB_USERNAME
            - name: civil-sdt-POSTGRES-PASS-V15
              alias: SDT_DB_PASSWORD
            - name: civil-sdt-POSTGRES-HOST-V15
              alias: SDT_DB_HOST
            - name: civil-sdt-servicebus-connection-string
              alias: CIVIL_SDT_SERVICEBUS_CONNECTION_STRING