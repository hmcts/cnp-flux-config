apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: civil-service
  namespace: civil
spec:
  values:
    java:
      image: hmctspublic.azurecr.io/civil/service:pr-3627-d70303e-20231128165011 #{"$imagepolicy": "flux-system:demo-civil-service"}
      environment:
        TESTING_SUPPORT_ENABLED: true
        EM_CCD_ORCHESTRATOR_URL: http://em-ccd-orchestrator-demo.service.core-compute-demo.internal
        DOCUMENT_MANAGEMENT_SECURED: true
        SERVICE_REQUEST_UPDATE: http://civil-service-demo.service.core-compute-demo.internal/service-request-update
        SERVICE_REQUEST_UPDATE_CLAIM_ISSUED: http://civil-service-demo.service.core-compute-demo.internal/service-request-update-claim-issued
        WA_TOGGLE: "Prod"
        POLLING_EVENT_EMITTER_ENABLED: false
        STITCHING_API_ENABLED: true
        HMC_HEARINGS_SUBSCRIPTION_ENABLED: true
        CUI_URL: https://moneyclaims.demo.platform.hmcts.net
        CUI_URL_RESPOND_TO_CLAIM: https://moneyclaims.demo.platform.hmcts.net/first-contact/start
      keyVaults:
        civil:
          resourceGroup: civil
          secrets:
            - cmc-db-password-v15
            - cmc-db-username-v15
            - cmc-db-host-v15
            - civil-idam-client-secret
            - microservicekey-civil-service
            - system-update-user-username
            - system-update-user-password
            - cross-access-user-username
            - cross-access-user-password
            - prd-admin-user-username
            - prd-admin-user-password
            - appinsights-connection-string
            - docmosis-api-key
            - gov-notify-api-key
            - sendgrid-api-key
            - robotics-notification-sender
            - robotics-notification-recipient
            - launch-darkly-sdk-key
            - robotics-notification-multipartyrecipient
            - robotics-notification-recipient-spec
            - robotics-notification-recipient-lipj
            - ordnance-survey-api-key
            - notification-caseworker-spec-receiver
            - mediation-notification-sender
            - mediation-notification-recipient
            - name: hmc-servicebus-shared-access-key-tf
              alias: HMC_HEARINGS_TOPIC_ACCESS_KEY
