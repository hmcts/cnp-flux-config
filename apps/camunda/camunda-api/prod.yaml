apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: camunda-api
spec:
  values:
    java:
      memoryRequests: '2Gi'
      memoryLimits: '4Gi'
      cpuRequests: '1'
      cpuLimits: '2'
      environment:
        WA_AUTO_CONFIGURE_TASKS_ENABLED: false
        CAMUNDA_BATCH_HISTORY_TTL: "P30D"
        CAMUNDA_BATCH_OPERATIONS: "P30D"
        CAMUNDA_HISTORY_TTL: "P30D"
        CAMUNDA_HISTORY_JOBLOG__TTL: "P30D"
        CAMUNDA_HISTORY_CLEANUP_START_TIME: "00:30+0100"
        CAMUNDA_HISTORY_CLEANUP_END_TIME: "06:00+0100"
        CAMUNDA_HISTORY_CLEANUP_STRATEGY: "removalTimeBased"
        CAMUNDA_PARALLELISM: 1